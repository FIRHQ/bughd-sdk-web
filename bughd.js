!function(r,n){"use strict";function t(r){return"undefined"==typeof r}function e(r){return!t(r)}function o(r){return"object"==typeof r}function u(r){return"boolean"==typeof r}function c(r){return u(r)&&!r}function a(r){return"string"==typeof r}function i(r){return"[object Array]"===Object.prototype.toString.call(r)}function s(r){return"function"==typeof r}function f(){}function l(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=16*Math.random()|0,t="x"==r?n:3&n|8;return t.toString(16)})}function g(r){try{for(var n=1,t=arguments.length;t>n;n++){var e,o=arguments[n];if(o)for(e in o)o.hasOwnProperty(e)&&(r[e]=o[e])}}catch(u){}return r}function p(r){if(!r)return{};try{return JSON.parse(r)}catch(n){}var t=/[^=&;\s]+=[^=&;\s]+/g,e=r.match(t),o={};if(e&&e.length)for(var u=0,c=e.length;c>u;u++){var a=e[u],i=/[^=]+/g,s=a.match(i);s.length?o[s[0]]=s[1]:null}return o}function v(r,n){function t(t){return o=n(r[t],t,r),!(u&&c(o))}var e,o;if(r)if(i(r))for(var a=0,s=r.length;s>a&&t(a);a++);else if(r.forEach&&r.forEach!==v)r.forEach(n,this,r);else for(e in r)if(r.hasOwnProperty(e)&&!t(e))break}function h(r){var n;if(t(r))n="";else if(o(r))try{n=JSON.stringify(r)}catch(e){n=r.toString()}else n=s(r)?"function "+(r.name||""):r.toString();return n}function m(r,n,t){function e(){try{var r=this,e=Array.prototype.slice.call(arguments,0);if(c(t(n,e)))return;o.apply(r,arguments)}catch(u){br.error("apply error",u)}}var o;return r.prototype?(o=r.prototype[n])&&(r.prototype[n]=e):(o=r[n]||f,r[n]=e),o}function y(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function d(r,n){return r<<n|r>>>32-n}function x(r,n,t,e,o,u){return y(d(y(y(n,r),y(e,u)),o),t)}function b(r,n,t,e,o,u,c){return x(n&t|~n&e,r,n,o,u,c)}function k(r,n,t,e,o,u,c){return x(n&e|t&~e,r,n,o,u,c)}function w(r,n,t,e,o,u,c){return x(n^t^e,r,n,o,u,c)}function C(r,n,t,e,o,u,c){return x(t^(n|~e),r,n,o,u,c)}function E(r,n){r[n>>5]|=128<<n%32,r[(n+64>>>9<<4)+14]=n;var t,e,o,u,c,a=1732584193,i=-271733879,s=-1732584194,f=271733878;for(t=0;t<r.length;t+=16)e=a,o=i,u=s,c=f,a=b(a,i,s,f,r[t],7,-680876936),f=b(f,a,i,s,r[t+1],12,-389564586),s=b(s,f,a,i,r[t+2],17,606105819),i=b(i,s,f,a,r[t+3],22,-1044525330),a=b(a,i,s,f,r[t+4],7,-176418897),f=b(f,a,i,s,r[t+5],12,1200080426),s=b(s,f,a,i,r[t+6],17,-1473231341),i=b(i,s,f,a,r[t+7],22,-45705983),a=b(a,i,s,f,r[t+8],7,1770035416),f=b(f,a,i,s,r[t+9],12,-1958414417),s=b(s,f,a,i,r[t+10],17,-42063),i=b(i,s,f,a,r[t+11],22,-1990404162),a=b(a,i,s,f,r[t+12],7,1804603682),f=b(f,a,i,s,r[t+13],12,-40341101),s=b(s,f,a,i,r[t+14],17,-1502002290),i=b(i,s,f,a,r[t+15],22,1236535329),a=k(a,i,s,f,r[t+1],5,-165796510),f=k(f,a,i,s,r[t+6],9,-1069501632),s=k(s,f,a,i,r[t+11],14,643717713),i=k(i,s,f,a,r[t],20,-373897302),a=k(a,i,s,f,r[t+5],5,-701558691),f=k(f,a,i,s,r[t+10],9,38016083),s=k(s,f,a,i,r[t+15],14,-660478335),i=k(i,s,f,a,r[t+4],20,-405537848),a=k(a,i,s,f,r[t+9],5,568446438),f=k(f,a,i,s,r[t+14],9,-1019803690),s=k(s,f,a,i,r[t+3],14,-187363961),i=k(i,s,f,a,r[t+8],20,1163531501),a=k(a,i,s,f,r[t+13],5,-1444681467),f=k(f,a,i,s,r[t+2],9,-51403784),s=k(s,f,a,i,r[t+7],14,1735328473),i=k(i,s,f,a,r[t+12],20,-1926607734),a=w(a,i,s,f,r[t+5],4,-378558),f=w(f,a,i,s,r[t+8],11,-2022574463),s=w(s,f,a,i,r[t+11],16,1839030562),i=w(i,s,f,a,r[t+14],23,-35309556),a=w(a,i,s,f,r[t+1],4,-1530992060),f=w(f,a,i,s,r[t+4],11,1272893353),s=w(s,f,a,i,r[t+7],16,-155497632),i=w(i,s,f,a,r[t+10],23,-1094730640),a=w(a,i,s,f,r[t+13],4,681279174),f=w(f,a,i,s,r[t],11,-358537222),s=w(s,f,a,i,r[t+3],16,-722521979),i=w(i,s,f,a,r[t+6],23,76029189),a=w(a,i,s,f,r[t+9],4,-640364487),f=w(f,a,i,s,r[t+12],11,-421815835),s=w(s,f,a,i,r[t+15],16,530742520),i=w(i,s,f,a,r[t+2],23,-995338651),a=C(a,i,s,f,r[t],6,-198630844),f=C(f,a,i,s,r[t+7],10,1126891415),s=C(s,f,a,i,r[t+14],15,-1416354905),i=C(i,s,f,a,r[t+5],21,-57434055),a=C(a,i,s,f,r[t+12],6,1700485571),f=C(f,a,i,s,r[t+3],10,-1894986606),s=C(s,f,a,i,r[t+10],15,-1051523),i=C(i,s,f,a,r[t+1],21,-2054922799),a=C(a,i,s,f,r[t+8],6,1873313359),f=C(f,a,i,s,r[t+15],10,-30611744),s=C(s,f,a,i,r[t+6],15,-1560198380),i=C(i,s,f,a,r[t+13],21,1309151649),a=C(a,i,s,f,r[t+4],6,-145523070),f=C(f,a,i,s,r[t+11],10,-1120210379),s=C(s,f,a,i,r[t+2],15,718787259),i=C(i,s,f,a,r[t+9],21,-343485551),a=y(a,e),i=y(i,o),s=y(s,u),f=y(f,c);return[a,i,s,f]}function A(r){var n,t="";for(n=0;n<32*r.length;n+=8)t+=String.fromCharCode(r[n>>5]>>>n%32&255);return t}function S(r){var n,t=[];for(t[(r.length>>2)-1]=void 0,n=0;n<t.length;n+=1)t[n]=0;for(n=0;n<8*r.length;n+=8)t[n>>5]|=(255&r.charCodeAt(n/8))<<n%32;return t}function O(r){return A(E(S(r),8*r.length))}function j(r,n){var t,e,o=S(r),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=E(o,8*r.length)),t=0;16>t;t+=1)u[t]=909522486^o[t],c[t]=1549556828^o[t];return e=E(u.concat(S(n)),512+8*n.length),A(E(c.concat(e),640))}function D(r){var n,t,e="0123456789abcdef",o="";for(t=0;t<r.length;t+=1)n=r.charCodeAt(t),o+=e.charAt(n>>>4&15)+e.charAt(15&n);return o}function _(r){return unescape(encodeURIComponent(r))}function q(r){return O(_(r))}function z(r){return D(q(r))}function M(r,n){return j(_(r),_(n))}function R(r,n){return D(M(r,n))}function G(r,n,t){return n?t?M(n,r):R(n,r):t?q(r):z(r)}function I(){if(ar)return ar;var r=p(gr.cookie);return ar=r[kr]?r[kr]:r[kr]=J()}function J(){var r=l();return gr.cookie=kr+"="+r+";expires="+new Date(+new Date+63072e6).toGMTString()+";",r}function L(r){var n=2;if(r.length<=n)return r;var t,e,u=r.length-1;for(((t=s(r[u]))||(e=o(r[u])))&&u--,t&&u>n&&o(r[u])&&u--;u>n;u--)r[u]=h(r[u]);return r}function N(r,n,t){if(Sr&&n.length){xr+=t?t+3:3;var e=L(n);nr.apply(fr,e)}return Ar}function P(r,n){var t=n[0];return t?void 0:N(r,["Assertion failed","Assertion failed"],1)}function T(r,n){function t(r,n){br[r]=function(){n.apply(e,arguments)}}for(var e=lr.console,o=0,u=r.length;u>o;o++){var c=r[o],a=m(e,c,function(r,t){return n(r,t)});Or[c]=a,br[c]&&a&&t(c,a)}}function U(){T(wr,N),T(Cr,P)}function H(r,n,t,u){var c=jr[r];c&&!i(n)&&(o(n)?u?jr[r]=g({},n):g(c,n):a(n)&&e(t)&&(c[n]=t))}function V(r,n){var t=jr[r];t&&(n?(t[n]=null,delete t[n]):jr[r]={})}function W(r,n){if(!r)return jr;var t=jr[r];return n?t[n]:t}function X(r,n){var t=n[0],e=n[1],o=n[2],u=n[3],c=n[4],a=c||{};a.message=a.message||t,a.file=a.file||e,a.line=a.line||o,a.column=a.column||u;var i=t+"\n   at "+a.file+":"+a.line;if(a.column?"":i+=":"+a.column,a.stack){var s=a.stack.split("\n"),o=s[0];e&&-1===s.indexOf(e)&&(s[0]=i),a.stack=s.join("\n")}else a.stack=i;a.from="Global",a.ts=+new Date,tr(a)}function $(){m(lr,"onerror",X)}function B(r,n){var t=new lr.XMLHttpRequest;return t.open(r,n),t}function F(r){ir=r}function K(){return yr.length?yr[yr.length-1]:null}function Q(r){var n=W(),t=n.website;r.path=e(ir)?ir:pr.pathname,r.location=e(sr)?sr:pr.href,t.version=t.version||"0.0.1",r.user=n.user,r.customize=g({},n.custom,r.customize);var o=+new Date,u={key:cr,ts:o,app:t,device:{id:I()},crash:r,sdk_version:vr,sign:G(o+G(cr+dr)).substr(8,4)},c=K();return c?r.prev=c.crash.md5:0,u}function Y(r,n,t,e){var o=r.md5;o&&delete r.md5,fr&&s(fr.onerror)&&fr.onerror(r,n),n=n||null;var u={},c=er(r),a={message:c.message,stack:c.stack,collector:r.name},i=K();if(i&&r.from===i.from){var f=500;if(r.ts-i.ts<f)return}try{if(a.md5=G(a.message+a.stack),a.customize=n,l=Q(a),!l.key)return br.warn("尚未配置项目的general key"),u;var l,g=B("post",mr);yr.push(l),l=h(l),t&&(g.onload=t),e&&(g.onerror=e,g.onabort=e),g.send(l),u={md5:a.md5,ts:a.ts,xhr:g}}catch(p){br.error(p)}return u}function Z(r){return!1}function rr(){var r,n,t;try{var e=null;e()}catch(o){r=o,r.stack=r.stack||""}return n=r.stack.split("\n"),t=n[0].indexOf("TypeError")>-1?2:1,n=n.slice(t),r.array=n,r.stack=n.join("\n"),r}function nr(r,n,t,e){var o="";if(r instanceof Error)return void tr.apply(fr,arguments);if(a(r)){if(r.length>50&&(o=r+"\n",r="Custom Error"),n instanceof Error)n.name=r,tr(n,t,e);else{var u=rr(),c=u.array;c=c.slice(xr+1),u.stack=c.join("\n"),u.message=o+h(n),u.name=r,u.md5=G(u.name+u.message),tr(u,t,e)}xr=0}}function tr(r){function n(){s(u)&&u.apply(this,arguments)}function t(){s(u)&&u.apply(this,arguments)}var e=Array.prototype.slice.call(arguments,0);if(r instanceof Error){if(Z(r.stack))return void br.warn("已忽略控制台输入的异常");var o=or(e),u=o.cl,c=o.cu;Y(r,c,t,n)}}function er(r){var n="`${location}`",t=new RegExp(pr.href,"g"),e={message:r.message||r.description||"",stack:r.stack};return e.message=e.message.replace(t,n),t.lastIndex=0,e.stack=e.stack.replace(t,n),e}function or(r){for(var n=r.length-1;n>0;n--)if(e(r[n])){r.length=n+1;break}var t={cl:f,cu:null};if(r.length>0)switch(r.length){case 3:s(r[2])&&(t.cl=r[2]),o(r[1])&&(t.cu=r[1]);break;case 2:var u=r[1];s(u)?t.cl=u:o(u)&&(t.cu=u)}return t}function ur(r){function n(r){cr=r.key,Er=r.maxConsoleLength||10,Ar=e(r.printConsole)?!!r.printConsole:!0,Sr=e(r.sendConsoleError)?r.sendConsoleError:!0,r.user&&u.user(r.user),r.website&&u.website(r.website),r.custom&&u.custom(r.custom),r.onerror&&(fr.onerror=r.onerror)}function t(r){function n(n,t){if(2==arguments.length||o(n)){var e="user"===r?!0:!1;return H(r,n,t,e),u}return W(r,n)}function t(n){V(r,n)}return{g:n,r:t}}if(fr)return fr;var u=function(r){if(r){var n,t=Array.prototype.slice.call(arguments,1);xr=1;try{n=u[r]?u[r].apply(this,t):void 0}catch(e){}return xr=0,n}};fr=u;var c=t("user"),a=t("custom"),i=t("website");return u.create=function(r){r&&o(r)&&(r.key&&(u.create=f),n(r))},u.user=c.g,u.removeUser=c.r,u.custom=a.g,u.removeCustom=a.r,u.website=i.g,u.removeWebsite=i.r,u.pageView=F,u.removeConsole=function(){var r=!!arguments[0];r?void 0:clearConsole()},u.notify=nr,u.notifyException=tr,u.create(r),U(),$(),u}var cr,ar,ir,sr,fr,lr=r,gr=n,pr=lr.location,vr="0.0.14",hr="collector_web.bughd.com",mr=location.protocol+"//"+hr+"/web_crashes",yr=[],dr="block",xr=0,br={log:function(){console.log.apply(console,arguments)},error:function(){console.error.apply(console,arguments)},warn:function(){console.warn.apply(console,arguments)}},kr="_bughduid",wr=["error"],Cr=["assert"],Er=10,Ar=!0,Sr=!0,Or={},jr={custom:{},user:{},website:{}};fr=ur(),fr.version=vr,lr.bughd&&lr.bughd.q&&(fr.onerror=lr.bughd.onerror,v(lr.bughd.q,function(r){fr.apply(lr,r)})),lr.bughd=fr}(window,document);
